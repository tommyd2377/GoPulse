<ion-header>
  <ion-toolbar>
    <ion-title color="primary">Home</ion-title>
  </ion-toolbar>
</ion-header>

<ion-content class="ion-padding" [scrollEvents]="true" (ionScroll)="getScrollPos($event.detail.scrollTop)">

  <div *ngIf="showLoader">
    <br>
    <br>
    <br>
    <br>
    <br>
    <br>
    <br>
    <br>
    <br>
    <br>
    <br>
    <ion-spinner name="bubbles" color="primary"></ion-spinner>
  </div>

  <div *ngIf="!showLoader" class="center-desktop">

    <ion-list *ngFor="let active of followingActivity | async">

    <ion-item lines="none">
      <ion-avatar slot="start" (click)="openUser($event, active)">
        <img *ngIf="!active.recievedIsTrue" src="{{ active.photoUrl }}">
        <img *ngIf="active.recievedIsTrue" src="{{ active.senderPhotoUrl }}">
      </ion-avatar>
      
        <ion-label class="ion-text-wrap" button (click)="openUser($event, active)">
          <h2 *ngIf="active.sharedIsTrue">{{ active.displayName }} liked this article</h2> 
          <h2 *ngIf="active.recievedIsTrue">{{ active.senderDisplayName }} sent you this article</h2> 
          <h2 *ngIf="active.likedCommentIsTrue">{{ active.displayName }} liked this comment</h2>
          <h2 *ngIf="active.commentIsTrue">{{ active.displayName }}</h2> 
          <h2 *ngIf="active.commentReplyIsTrue">{{ active.displayName }} replied to this comment</h2>
          <h2 *ngIf="active.followingIsTrue">{{ active.followerDisplayName }} started following</h2> 
          <h2 *ngIf="active.flaggedIsTrue">{{ active.displayName }} flagged this article: {{ active.flaggedAs }}</h2> 
        </ion-label>

      </ion-item>

      <ion-item lines="none" *ngIf="active.commentIsTrue">
        <p>
          "{{ active.comment }}"
        </p>
      </ion-item>

      <ion-item lines="none" *ngIf="active.likedCommentIsTrue">

        <ion-avatar slot="start" (click)="openUser($event, active)">
          <img src="{{ active.authorPhotoUrl }}">
        </ion-avatar> 

        <ion-label>
          <h2>{{ active.authorDisplayName }}</h2>
        </ion-label>

      </ion-item>

      <ion-item lines="none" *ngIf="active.likedCommentIsTrue">
        <p>
          "{{ active.comment }}"
        </p>
      </ion-item>

      <ion-item lines="none" *ngIf="active.commentReplyIsTrue">
        <p>
          "{{ active.reply }}"
        </p>
      </ion-item>

      <ion-item lines="none" *ngIf="active.commentReplyIsTrue">

        <ion-avatar slot="start" (click)="openUser($event, active)">
          <img src="{{ active.authorPhotoUrl }}">
        </ion-avatar> 

        <ion-label>
          <h2>{{ active.authorDisplayName }}</h2>
        </ion-label>

      </ion-item>

      <ion-item lines="none" *ngIf="active.commentReplyIsTrue">
        <p>
          "{{ active.comment }}"
        </p>
      </ion-item>

      <ion-item lines="none" *ngIf="active.likedCommentIsTrue">
        <p>
          "{{ active.comment }}"
        </p>
      </ion-item>

      <ion-item lines="none" *ngIf="active.recievedIsTrue">
        <p>
          "{{ active.message }}"
        </p>
      </ion-item>

      <ion-item lines="none" *ngIf="active.followingIsTrue">
        <ion-avatar slot="start" (click)="openUser($event, active)">
          <img src="{{ active.followeePhotoUrl }}">
        </ion-avatar>
        
          <ion-label class="ion-text-wrap" (click)="openUser($event, active)">
            <h2>{{ active.followeeDisplayName }}</h2>
          </ion-label>
  
        </ion-item>

        <ion-item  lines="none">
  
        <ion-label class="ion-text-wrap" (click)="openArticle($event, active)">
          <img src="{{ active.image }}" alt="">
          <h1>{{ active.title }}</h1>
          <br>
          <h2>{{ active.publisher }}</h2>
          <p>{{ active.publishDate | date:'fullDate' }}</p>
        </ion-label>
      
        </ion-item>
        <br>

    </ion-list>
    
    <br>

    <h5>Thank you for subscribing.</h5>

    <p>
      Below are your GoCodes. Use these to invite the seven smartest people 
      you know to join you here. It's important to bring new subscribers
      onto the platform that are intelligent and open to new perspectives.
    </p>

    <ul>
      <ion-item lines="none" (click)="copyCode(code1)" icon-start>
        <ion-icon name="copy-outline"></ion-icon>
        {{ code1 }}
      </ion-item>
      <ion-item lines="none" (click)="copyCode(code2)" icon-start>
        <ion-icon name="copy-outline"></ion-icon>
        {{ code2 }}
      </ion-item>
      <ion-item lines="none" (click)="copyCode(code3)" icon-start> 
        <ion-icon name="copy-outline"></ion-icon>
        {{ code3 }}
      </ion-item>
      <ion-item lines="none" (click)="copyCode(code4)" icon-start>
        <ion-icon name="copy-outline"></ion-icon>
        {{ code4 }}
      </ion-item>
      <ion-item lines="none" (click)="copyCode(code5)" icon-start>
        <ion-icon name="copy-outline"></ion-icon>
        {{ code5 }}
      </ion-item>
      <ion-item lines="none" (click)="copyCode(code6)" icon-start>
        <ion-icon name="copy-outline"></ion-icon>
        {{ code6 }}
      </ion-item>
      <ion-item lines="none" (click)="copyCode(code7)" icon-start>
        <ion-icon name="copy-outline"></ion-icon>
        {{ code7 }}
      </ion-item>
    </ul>
 
  </div>

  <div class="back-to-top-btn" *ngIf="backToTop" (click)="gotToTop()">
    <ion-icon name="chevron-up-outline"></ion-icon>
  </div>

</ion-content>